<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_31) on Sun Apr 08 21:30:02 EDT 2012 -->
<TITLE>
FetcherTask
</TITLE>

<META NAME="date" CONTENT="2012-04-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FetcherTask";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FetcherTask.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/flighttweets/tweets/FlightNumberAnalyzer.html" title="class in net.flighttweets.tweets"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/flighttweets/tweets/FetcherTask.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FetcherTask.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.flighttweets.tweets</FONT>
<BR>
Class FetcherTask</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by ">java.util.TimerTask
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>net.flighttweets.tweets.FetcherTask</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>FetcherTask</B><DT>extends java.util.TimerTask</DL>
</PRE>

<P>
The atomic task processing all the fetching task, retrieving from a queue the
 usernames to process and the corresponding starting point for this username.
 This task should be bound to its launcher in order to receive the messages
 specified by the FetcherCallback interface.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#callback">callback</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#currentId">currentId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#currentUser">currentUser</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#retrialCount">retrialCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#storageManager">storageManager</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#tweetSaver">tweetSaver</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#usernamesToFetch">usernamesToFetch</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#FetcherTask(java.util.PriorityQueue, net.flighttweets.tweets.FetcherCallback)">FetcherTask</A></B>(java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;&nbsp;itemsToFetch,
            <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A>&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prepares an instance of FetcherTask, configuring the elements that need 
 to be fetched, and an instance of a class following the <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets"><CODE>FetcherCallback</CODE></A>
 interface which will be receiving the messages sent during the execution
 of the task.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#enough(java.lang.String)">enough</A></B>(java.lang.String&nbsp;username)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves in the db that the username has been processed enough (and potentially generating
 too many errors).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.List&lt;twitter4j.Status&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#fetchUserTweets()">fetchUserTweets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The real fetch method, dealing with the twitter API.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getCallback()">getCallback</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getCurrentId()">getCurrentId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getCurrentUser()">getCurrentUser</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getRetrialCount()">getRetrialCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getStorageManager()">getStorageManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getTweetSaver()">getTweetSaver</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#getUsernamesToFetch()">getUsernamesToFetch</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#installNewUser()">installNewUser</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prepares the task for the next run, retrieving a new user from the queue
 and installing it in the current fields.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#retrialCountPlusOne()">retrialCountPlusOne</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The entry point for the task.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#saveTweets(java.util.List)">saveTweets</A></B>(java.util.List&lt;twitter4j.Status&gt;&nbsp;statuses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves the tweets to the db.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setCallback(net.flighttweets.tweets.FetcherCallback)">setCallback</A></B>(<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A>&nbsp;callback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setCurrentId(java.lang.Long)">setCurrentId</A></B>(java.lang.Long&nbsp;currentId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setCurrentUser(java.lang.String)">setCurrentUser</A></B>(java.lang.String&nbsp;currentUser)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setRetrialCount(int)">setRetrialCount</A></B>(int&nbsp;retrialCount)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setStorageManager(net.flighttweets.tweets.StorageManager)">setStorageManager</A></B>(<A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A>&nbsp;storageManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setTweetSaver(net.flighttweets.tweets.TweetSaver)">setTweetSaver</A></B>(<A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A>&nbsp;saver)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#setUsernamesToFetch(java.util.PriorityQueue)">setUsernamesToFetch</A></B>(java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;&nbsp;usernames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../net/flighttweets/tweets/FetcherTask.html#updateFetchingStatus(twitter4j.Status)">updateFetchingStatus</A></B>(twitter4j.Status&nbsp;lastFetchedStatus)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves in the db the fetching state, comprised of the id of the last tweet, 
 and the eventual completeness.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.util.TimerTask"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.util.TimerTask</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>cancel, scheduledExecutionTime</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="usernamesToFetch"><!-- --></A><H3>
usernamesToFetch</H3>
<PRE>
private java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt; <B>usernamesToFetch</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentUser"><!-- --></A><H3>
currentUser</H3>
<PRE>
private java.lang.String <B>currentUser</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="currentId"><!-- --></A><H3>
currentId</H3>
<PRE>
private long <B>currentId</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="tweetSaver"><!-- --></A><H3>
tweetSaver</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A> <B>tweetSaver</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="storageManager"><!-- --></A><H3>
storageManager</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A> <B>storageManager</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="callback"><!-- --></A><H3>
callback</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A> <B>callback</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="retrialCount"><!-- --></A><H3>
retrialCount</H3>
<PRE>
private int <B>retrialCount</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="FetcherTask(java.util.PriorityQueue, net.flighttweets.tweets.FetcherCallback)"><!-- --></A><H3>
FetcherTask</H3>
<PRE>
public <B>FetcherTask</B>(java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;&nbsp;itemsToFetch,
                   <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A>&nbsp;callback)</PRE>
<DL>
<DD>Prepares an instance of FetcherTask, configuring the elements that need 
 to be fetched, and an instance of a class following the <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets"><CODE>FetcherCallback</CODE></A>
 interface which will be receiving the messages sent during the execution
 of the task.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>itemsToFetch</CODE> - A sorted queue containing the elements to fetch, as instances of
 <A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data"><CODE>FetchItemBundle</CODE></A>.<DD><CODE>callback</CODE> - The instance of the class to use when message passing is needed.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getUsernamesToFetch()"><!-- --></A><H3>
getUsernamesToFetch</H3>
<PRE>
public java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt; <B>getUsernamesToFetch</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUsernamesToFetch(java.util.PriorityQueue)"><!-- --></A><H3>
setUsernamesToFetch</H3>
<PRE>
private void <B>setUsernamesToFetch</B>(java.util.PriorityQueue&lt;<A HREF="../../../net/flighttweets/tweets/data/FetchItemBundle.html" title="class in net.flighttweets.tweets.data">FetchItemBundle</A>&gt;&nbsp;usernames)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentUser()"><!-- --></A><H3>
getCurrentUser</H3>
<PRE>
private java.lang.String <B>getCurrentUser</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCurrentUser(java.lang.String)"><!-- --></A><H3>
setCurrentUser</H3>
<PRE>
private void <B>setCurrentUser</B>(java.lang.String&nbsp;currentUser)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentId()"><!-- --></A><H3>
getCurrentId</H3>
<PRE>
private java.lang.Long <B>getCurrentId</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCurrentId(java.lang.Long)"><!-- --></A><H3>
setCurrentId</H3>
<PRE>
private void <B>setCurrentId</B>(java.lang.Long&nbsp;currentId)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTweetSaver()"><!-- --></A><H3>
getTweetSaver</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A> <B>getTweetSaver</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTweetSaver(net.flighttweets.tweets.TweetSaver)"><!-- --></A><H3>
setTweetSaver</H3>
<PRE>
private void <B>setTweetSaver</B>(<A HREF="../../../net/flighttweets/tweets/TweetSaver.html" title="class in net.flighttweets.tweets">TweetSaver</A>&nbsp;saver)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStorageManager()"><!-- --></A><H3>
getStorageManager</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A> <B>getStorageManager</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setStorageManager(net.flighttweets.tweets.StorageManager)"><!-- --></A><H3>
setStorageManager</H3>
<PRE>
private void <B>setStorageManager</B>(<A HREF="../../../net/flighttweets/tweets/StorageManager.html" title="class in net.flighttweets.tweets">StorageManager</A>&nbsp;storageManager)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCallback()"><!-- --></A><H3>
getCallback</H3>
<PRE>
private <A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A> <B>getCallback</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCallback(net.flighttweets.tweets.FetcherCallback)"><!-- --></A><H3>
setCallback</H3>
<PRE>
private void <B>setCallback</B>(<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets">FetcherCallback</A>&nbsp;callback)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRetrialCount()"><!-- --></A><H3>
getRetrialCount</H3>
<PRE>
private int <B>getRetrialCount</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setRetrialCount(int)"><!-- --></A><H3>
setRetrialCount</H3>
<PRE>
private void <B>setRetrialCount</B>(int&nbsp;retrialCount)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="retrialCountPlusOne()"><!-- --></A><H3>
retrialCountPlusOne</H3>
<PRE>
private void <B>retrialCountPlusOne</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="fetchUserTweets()"><!-- --></A><H3>
fetchUserTweets</H3>
<PRE>
private java.util.List&lt;twitter4j.Status&gt; <B>fetchUserTweets</B>()
                                                  throws twitter4j.TwitterException</PRE>
<DL>
<DD>The real fetch method, dealing with the twitter API. It picks the username
 and ID as defined by the currentUsername and currentId fields.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Returns a list of the <CODE>Status</CODE>, sorted on the id (newest first). 
 The maximum size of the list is 200, as Twitter does not allow to fetch more tweets at
 a time/
<DT><B>Throws:</B>
<DD><CODE>twitter4j.TwitterException</CODE> - If Twitter is not happy some exceptions might be raised,
 telling to slow down, etc.</DL>
</DD>
</DL>
<HR>

<A NAME="saveTweets(java.util.List)"><!-- --></A><H3>
saveTweets</H3>
<PRE>
private void <B>saveTweets</B>(java.util.List&lt;twitter4j.Status&gt;&nbsp;statuses)</PRE>
<DL>
<DD>Saves the tweets to the db.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>statuses</CODE> - The list of statuses to save.</DL>
</DD>
</DL>
<HR>

<A NAME="installNewUser()"><!-- --></A><H3>
installNewUser</H3>
<PRE>
public void <B>installNewUser</B>()</PRE>
<DL>
<DD>Prepares the task for the next run, retrieving a new user from the queue
 and installing it in the current fields.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateFetchingStatus(twitter4j.Status)"><!-- --></A><H3>
updateFetchingStatus</H3>
<PRE>
private void <B>updateFetchingStatus</B>(twitter4j.Status&nbsp;lastFetchedStatus)
                           throws java.sql.SQLException</PRE>
<DL>
<DD>Saves in the db the fetching state, comprised of the id of the last tweet, 
 and the eventual completeness.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lastFetchedStatus</CODE> - The status which should be used to update the db.
 Its creation date is used to know if we reached the date limit.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="enough(java.lang.String)"><!-- --></A><H3>
enough</H3>
<PRE>
public void <B>enough</B>(java.lang.String&nbsp;username)
            throws java.sql.SQLException</PRE>
<DL>
<DD>Saves in the db that the username has been processed enough (and potentially generating
 too many errors).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>username</CODE> - The username for which no tweets should be retrieved anymore.
<DT><B>Throws:</B>
<DD><CODE>java.sql.SQLException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>The entry point for the task. It triggers the fetching, handling the errors 
 and passing messages to the callback.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE><DT><B>Specified by:</B><DD><CODE>run</CODE> in class <CODE>java.util.TimerTask</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/FetcherTask.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../net/flighttweets/tweets/FetcherCallback.html" title="interface in net.flighttweets.tweets"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../net/flighttweets/tweets/FlightNumberAnalyzer.html" title="class in net.flighttweets.tweets"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?net/flighttweets/tweets/FetcherTask.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="FetcherTask.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
